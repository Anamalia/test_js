<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <script>

        /*Написать функционал корзины интернет магазина. Требования  - корзина должна быть описана как объект со своими свойствами и методами.
         Свойства:
         -список товаров которые уже в корзине
         -колличество товаров в корзине
         Методы:
         -добавление нового товара в корзину
         -удаление товара в корзину
         -подсчет суммы стоимости товаров в корзине

         Список доступных товаров должен быть обьявлен в глобальной переменной типа массив.
         В массиве должены хранится объекты с двемя полями ЦЕНА и ИМЯ

         При добавлении товара в корзину  -  вы долны проверять доступен ли товар с таким именем в магазине,
         если нет с помощью alert выводить ошибку.

         Логика работы программы: при загрузки страницы с помощью модального окна спрашивать пользователя хочет ли он добавить товар в корзину.
         При отрицательно ответе заканчивать выполнение программы, при положительном  - показывать окно ввода имени товара, далее после подтверждения ввода проверять есть ли такой товар в интернет магазине и если есть добавлять его в корзину, если нет - выводить сообщение об этом и спрашивать хочет ли он попробовать еще раз. В случае успешного добавления , спрашивать его хочет ли он добавить еще товар. При отрицательном ответе  - при наличии хотя бы одного товара в корзине  - выводить на экран список товаров в корзине и сумму которую нужно за них заплатить.
         В случае если в корзине нет товаров - выводить сообщение о завершении программы.*/
        var globalShop = [
            {
                name: 'пк',
                price: 100
            },
            {
                name: 'телефон',
                price: 120
            }
        ];
        var basket = {
            allItems: [],
            quantityGoods: [],
            price: function () {
            },
            addItems: function (param1) {
                var internet = false;
                for (var i = 0; i < globalShop.length; i++) {
                    if(globalShop[i].name == param1) {
                        internet = true;
                        this.allItems.push( globalShop[i] );
                        break;
                    }
                }
                if(!internet) {
                    alert('товара нет');
                    return;
                }
                if(internet == true) {
                    //document.write('добавлен ' + param1  );
                }
            },
            removeBasket: function () {
                var sms = confirm('Вы хотите купить товар?');
                if(sms) {
                    var message = prompt('Введите название товара?', '');
                    if(message) {
                        basket.addItems(message);
                    }
                    if (!message) {
                        var mms = confirm('вы хорошо подумали?');
                        if(mms) {
                            var message = prompt('Введите название товара?', '');
                            basket.addItems(message);
                        }
                    }
                    var numberTwo = function () {
                        var two = confirm('Вы хотите еще добавить товар?');
                        if(two) {
                            var messege = prompt('введите товар еще');
                            basket.addItems(messege);
                        }

                    }
                    return numberTwo();
                }
                if(!sms) {
                    alert('товар не найден');
                    var a = function () {
                        var confir = confirm('Вы хотите попробовать еще раз?');
                        if (confir) {
                            var message = prompt('Ввести товар');
                            basket.addItems(message);
                            basket.allItems();
                        }
                    }
                    return a();
                }
            },
            calculateItems: function () {

            },
            inBasket: function () {
                var a = 0;
                for (var i = 0; i < this.allItems.length; i++) {
                    if (basket.allItems.length > 0) {
                        document.write('</br> В корзине ' + this.allItems[i].name   + '</br> Цена: ' + this.allItems[i].price + '</br> Количество - ' + basket.allItems.length);
                        a += this.allItems[i].price;
                        document.write('</br> Итого ' + a);
                    } else {
                        document.write(' В корзине пусто ');
                    }
                }
            }
        };

        basket.removeBasket();
        basket.inBasket();
    </script>
</body>
</html>